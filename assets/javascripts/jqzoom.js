/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(be,bd,bc,a7){function a6(e,d,f){return setTimeout(aY(e,f),d)}function a4(e,d,f){return Array.isArray(e)?(a3(e,f[d],f),!0):!1}function a3(f,d,h){var g;if(f){if(f.forEach){f.forEach(d,h)}else{if(f.length!==a7){for(g=0;g<f.length;){d.call(h,f[g],g,f),g++}}else{for(g in f){f.hasOwnProperty(g)&&d.call(h,f[g],g,f)}}}}}function a2(a,h,g){var f="DEPRECATED METHOD: "+h+"\n"+g+" AT \n";return function(){var j=new Error("get-stack-trace"),e=j&&j.stack?j.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",b=be.console&&(be.console.warn||be.console.log);return b&&b.call(be.console,f,e),a.apply(this,arguments)}}function aZ(g,f,k){var j,h=f.prototype;j=g.prototype=Object.create(h),j.constructor=g,j._super=h,k&&cj(j,k)}function aY(d,c){return function(){return d.apply(c,arguments)}}function aW(d,c){return typeof d==a8?d.apply(c?c[0]||a7:a7,c):d}function aV(d,c){return d===a7?c:d}function aU(e,d,f){a3(aO(d),function(a){e.addEventListener(a,f,!1)})}function aS(e,d,f){a3(aO(d),function(a){e.removeEventListener(a,f,!1)})}function aR(d,c){for(;d;){if(d==c){return !0}d=d.parentNode}return !1}function aP(d,c){return d.indexOf(c)>-1}function aO(b){return b.trim().split(/\s+/g)}function aN(f,e,h){if(f.indexOf&&!h){return f.indexOf(e)}for(var g=0;g<f.length;){if(h&&f[g][h]==e||!h&&f[g]===e){return g}g++}return -1}function aM(b){return Array.prototype.slice.call(b,0)}function aL(j,h,o){for(var n=[],m=[],l=0;l<j.length;){var k=h?j[l][h]:j[l];aN(m,k)<0&&n.push(j[l]),m[l]=k,l++}return o&&(n=h?n.sort(function(b,d){return b[h]>d[h]}):n.sort()),n}function aK(h,d){for(var m,l,k=d[0].toUpperCase()+d.slice(1),j=0;j<b4.length;){if(m=b4[j],l=m?m+k:d,l in h){return l}j++}return a7}function aJ(){return bg++}function aI(a){var d=a.ownerDocument||a;return d.defaultView||d.parentWindow||be}function aH(e,d){var f=this;this.manager=e,this.callback=d,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){aW(e.options.enable,[e])&&f.handler(a)},this.init()}function aF(e){var d,f=e.options.inputClass;return new (d=f?f:ac?bz:cc?bv:ap?bs:bA)(e,aE)}function aE(j,h,o){var n=o.pointers.length,m=o.changedPointers.length,l=h&ax&&n-m===0,k=h&(ck|b5)&&n-m===0;o.isFirst=!!l,o.isFinal=!!k,l&&(j.session={}),o.eventType=h,bT(j,o),j.emit("hammer.input",o),j.recognize(o),j.session.prevInput=o}function bT(v,u){var t=v.session,s=u.pointers,r=s.length;t.firstInput||(t.firstInput=bO(u)),r>1&&!t.firstMultiple?t.firstMultiple=bO(u):1===r&&(t.firstMultiple=!1);var q=t.firstInput,p=t.firstMultiple,o=p?p.center:q.center,n=u.center=bL(s);u.timeStamp=cm(),u.deltaTime=u.timeStamp-q.timeStamp,u.angle=bG(o,n),u.distance=bH(o,n),bR(t,u),u.offsetDirection=bI(u.deltaX,u.deltaY);var m=bK(u.deltaTime,u.deltaX,u.deltaY);u.overallVelocityX=m.x,u.overallVelocityY=m.y,u.overallVelocity=am(m.x)>am(m.y)?m.x:m.y,u.scale=p?bC(p.pointers,s):1,u.rotation=p?bD(p.pointers,s):0,u.maxPointers=t.prevInput?u.pointers.length>t.prevInput.maxPointers?u.pointers.length:t.prevInput.maxPointers:u.pointers.length,bQ(t,u);var l=v.element;aR(u.srcEvent.target,l)&&(l=u.srcEvent.target),u.target=l}function bR(h,g){var m=g.center,l=h.offsetDelta||{},k=h.prevDelta||{},j=h.prevInput||{};g.eventType!==ax&&j.eventType!==ck||(k=h.prevDelta={x:j.deltaX||0,y:j.deltaY||0},l=h.offsetDelta={x:m.x,y:m.y}),g.deltaX=k.x+(m.x-l.x),g.deltaY=k.y+(m.y-l.y)}function bQ(v,u){var t,s,r,q,p=v.lastInterval||u,o=u.timeStamp-p.timeStamp;if(u.eventType!=b5&&(o>a1||p.velocity===a7)){var n=u.deltaX-p.deltaX,m=u.deltaY-p.deltaY,d=bK(o,n,m);s=d.x,r=d.y,t=am(d.x)>am(d.y)?d.x:d.y,q=bI(n,m),v.lastInterval=u}else{t=p.velocity,s=p.velocityX,r=p.velocityY,q=p.direction}u.velocity=t,u.velocityX=s,u.velocityY=r,u.direction=q}function bO(e){for(var d=[],f=0;f<e.pointers.length;){d[f]={clientX:az(e.pointers[f].clientX),clientY:az(e.pointers[f].clientY)},f++}return{timeStamp:cm(),pointers:d,center:bL(d),deltaX:e.deltaX,deltaY:e.deltaY}}function bL(g){var f=g.length;if(1===f){return{x:az(g[0].clientX),y:az(g[0].clientY)}}for(var k=0,j=0,h=0;f>h;){k+=g[h].clientX,j+=g[h].clientY,h++}return{x:az(k/f),y:az(j/f)}}function bK(e,d,f){return{x:d/e||0,y:f/e||0}}function bI(d,c){return d===c?bN:am(d)>=am(c)?0>d?a9:aA:0>c?an:cn}function bH(g,f,k){k||(k=aD);var j=f[k[0]]-g[k[0]],h=f[k[1]]-g[k[1]];return Math.sqrt(j*j+h*h)}function bG(g,f,k){k||(k=aD);var j=f[k[0]]-g[k[0]],h=f[k[1]]-g[k[1]];return 180*Math.atan2(h,j)/Math.PI}function bD(d,c){return bG(c[1],c[0],aq)+bG(d[1],d[0],aq)}function bC(d,c){return bH(c[0],c[1],aq)/bH(d[0],d[1],aq)}function bA(){this.evEl=cd,this.evWin=bX,this.pressed=!1,aH.apply(this,arguments)}function bz(){this.evEl=ar,this.evWin=ae,aH.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function by(){this.evTarget=bP,this.evWin=af,this.started=!1,aH.apply(this,arguments)}function bx(f,e){var h=aM(f.touches),g=aM(f.changedTouches);return e&(ck|b5)&&(h=aL(h.concat(g),"identifier",!0)),[h,g]}function bv(){this.evTarget=bu,this.targetIds={},aH.apply(this,arguments)}function bt(r,q){var p=aM(r.touches),o=this.targetIds;if(q&(ax|ak)&&1===p.length){return o[p[0].identifier]=!0,[p,p]}var n,m,l=aM(r.changedTouches),k=[],j=this.target;if(m=p.filter(function(b){return aR(b.target,j)}),q===ax){for(n=0;n<m.length;){o[m[n].identifier]=!0,n++}}for(n=0;n<l.length;){o[l[n].identifier]&&k.push(l[n]),q&(ck|b5)&&delete o[l[n].identifier],n++}return k.length?[aL(m.concat(k),"identifier",!0),k]:void 0}function bs(){aH.apply(this,arguments);var b=aY(this.handler,this);this.touch=new bv(this.manager,b),this.mouse=new bA(this.manager,b),this.primaryTouch=null,this.lastTouches=[]}function br(d,c){d&ax?(this.primaryTouch=c.changedPointers[0].identifier,bq.call(this,c)):d&(ck|b5)&&bq.call(this,c)}function bq(g){var f=g.changedPointers[0];if(f.identifier===this.primaryTouch){var k={x:f.clientX,y:f.clientY};this.lastTouches.push(k);var j=this.lastTouches,h=function(){var b=j.indexOf(k);b>-1&&j.splice(b,1)};setTimeout(h,aQ)}}function bp(j){for(var h=j.srcEvent.clientX,o=j.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var m=this.lastTouches[n],l=Math.abs(h-m.x),k=Math.abs(o-m.y);if(at>=l&&at>=k){return !0}}return !1}function bo(d,c){this.manager=d,this.set(c)}function bn(e){if(aP(e,av)){return av}var d=aP(e,ai),f=aP(e,ci);return d&&f?av:d||f?d?ai:ci:aP(e,aX)?aX:bB}function bm(){if(!cf){return !1}var a={},d=be.CSS&&be.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(b){a[b]=d?be.CSS.supports("touch-action",b):!0}),a}function bl(b){this.options=cj({},this.defaults,b||{}),this.id=aJ(),this.manager=null,this.options.enable=aV(this.options.enable,!0),this.state=bJ,this.simultaneous={},this.requireFail=[]}function bj(b){return b&b7?"cancel":b&al?"end":b&ay?"move":b&a5?"start":""}function b6(b){return b==cn?"down":b==an?"up":b==a9?"left":b==aA?"right":""}function bh(e,d){var f=d.manager;return f?f.get(e):e}function bZ(){bl.apply(this,arguments)}function bw(){bZ.apply(this,arguments),this.pX=null,this.pY=null}function aT(){bZ.apply(this,arguments)}function au(){bl.apply(this,arguments),this._timer=null,this._input=null}function ah(){bZ.apply(this,arguments)}function cg(){bZ.apply(this,arguments)}function b1(){bl.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function bE(d,c){return c=c||{},c.recognizers=aV(c.recognizers,bE.defaults.preset),new a0(d,c)}function a0(d,c){this.options=cj({},bE.defaults,c||{}),this.options.inputTarget=this.options.inputTarget||d,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=d,this.input=aF(this),this.touchAction=new bo(this,this.options.touchAction),aw(this,!0),a3(this.options.recognizers,function(f){var e=this.add(new f[0](f[1]));f[2]&&e.recognizeWith(f[2]),f[3]&&e.requireFailure(f[3])},this)}function aw(f,e){var h=f.element;if(h.style){var g;a3(f.options.cssProps,function(b,a){g=aK(h.style,a),e?(f.oldCssProps[g]=h.style[g],h.style[g]=b):h.style[g]=f.oldCssProps[g]||""}),e||(f.oldCssProps={})}}function aj(b,f){var e=bd.createEvent("Event");e.initEvent(b,!0,!0),e.gesture=f,f.target.dispatchEvent(e)}var cj,b4=["","webkit","Moz","MS","ms","o"],bM=bd.createElement("div"),a8="function",az=Math.round,am=Math.abs,cm=Date.now;cj="function"!=typeof Object.assign?function(g){if(g===a7||null===g){throw new TypeError("Cannot convert undefined or null to object")}for(var d=Object(g),k=1;k<arguments.length;k++){var j=arguments[k];if(j!==a7&&null!==j){for(var h in j){j.hasOwnProperty(h)&&(d[h]=j[h])}}}return d}:Object.assign;var b8=a2(function(g,d,k){for(var j=Object.keys(d),h=0;h<j.length;){(!k||k&&g[j[h]]===a7)&&(g[j[h]]=d[j[h]]),h++}return g},"extend","Use `assign`."),bU=a2(function(d,c){return b8(d,c,!0)},"merge","Use `assign`."),bg=1,aC=/mobile|tablet|ip(ad|hone|od)|android/i,ap="ontouchstart" in be,ac=aK(be,"PointerEvent")!==a7,cc=ap&&aC.test(navigator.userAgent),bW="touch",ch="pen",b2="mouse",bF="kinect",a1=25,ax=1,ak=2,ck=4,b5=8,bN=1,a9=2,aA=4,an=8,cn=16,b9=a9|aA,bV=an|cn,bi=b9|bV,aD=["x","y"],aq=["clientX","clientY"];aH.prototype={handler:function(){},init:function(){this.evEl&&aU(this.element,this.evEl,this.domHandler),this.evTarget&&aU(this.target,this.evTarget,this.domHandler),this.evWin&&aU(aI(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&aS(this.element,this.evEl,this.domHandler),this.evTarget&&aS(this.target,this.evTarget,this.domHandler),this.evWin&&aS(aI(this.element),this.evWin,this.domHandler)}};var ad={mousedown:ax,mousemove:ak,mouseup:ck},cd="mousedown",bX="mousemove mouseup";aZ(bA,aH,{handler:function(d){var c=ad[d.type];c&ax&&0===d.button&&(this.pressed=!0),c&ak&&1!==d.which&&(c=ck),this.pressed&&(c&ck&&(this.pressed=!1),this.callback(this.manager,c,{pointers:[d],changedPointers:[d],pointerType:b2,srcEvent:d}))}});var bk={pointerdown:ax,pointermove:ak,pointerup:ck,pointercancel:b5,pointerout:b5},aG={2:bW,3:ch,4:b2,5:bF},ar="pointerdown",ae="pointermove pointerup pointercancel";be.MSPointerEvent&&!be.PointerEvent&&(ar="MSPointerDown",ae="MSPointerMove MSPointerUp MSPointerCancel"),aZ(bz,aH,{handler:function(k){var j=this.store,q=!1,p=k.type.toLowerCase().replace("ms",""),o=bk[p],n=aG[k.pointerType]||k.pointerType,m=n==bW,l=aN(j,k.pointerId,"pointerId");o&ax&&(0===k.button||m)?0>l&&(j.push(k),l=j.length-1):o&(ck|b5)&&(q=!0),0>l||(j[l]=k,this.callback(this.manager,o,{pointers:j,changedPointers:[k],pointerType:n,srcEvent:k}),q&&j.splice(l,1))}});var ce={touchstart:ax,touchmove:ak,touchend:ck,touchcancel:b5},bP="touchstart",af="touchstart touchmove touchend touchcancel";aZ(by,aH,{handler:function(e){var d=ce[e.type];if(d===ax&&(this.started=!0),this.started){var f=bx.call(this,e,d);d&(ck|b5)&&f[0].length-f[1].length===0&&(this.started=!1),this.callback(this.manager,d,{pointers:f[0],changedPointers:f[1],pointerType:bW,srcEvent:e})}}});var bY={touchstart:ax,touchmove:ak,touchend:ck,touchcancel:b5},bu="touchstart touchmove touchend touchcancel";aZ(bv,aH,{handler:function(e){var d=bY[e.type],f=bt.call(this,e,d);f&&this.callback(this.manager,d,{pointers:f[0],changedPointers:f[1],pointerType:bW,srcEvent:e})}});var aQ=2500,at=25;aZ(bs,aH,{handler:function(g,f,k){var j=k.pointerType==bW,h=k.pointerType==b2;if(!(h&&k.sourceCapabilities&&k.sourceCapabilities.firesTouchEvents)){if(j){br.call(this,f,k)}else{if(h&&bp.call(this,k)){return}}this.callback(g,f,k)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ag=aK(bM.style,"touchAction"),cf=ag!==a7,b0="compute",bB="auto",aX="manipulation",av="none",ai="pan-x",ci="pan-y",b3=bm();bo.prototype={set:function(b){b==b0&&(b=this.compute()),cf&&this.manager.element.style&&b3[b]&&(this.manager.element.style[ag]=b),this.actions=b.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var b=[];return a3(this.manager.recognizers,function(a){aW(a.options.enable,[a])&&(b=b.concat(a.getTouchAction()))}),bn(b.join(" "))},preventDefaults:function(t){var s=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented){return void s.preventDefault()}var q=this.actions,p=aP(q,av)&&!b3[av],o=aP(q,ci)&&!b3[ci],n=aP(q,ai)&&!b3[ai];if(p){var m=1===t.pointers.length,l=t.distance<2,k=t.deltaTime<250;if(m&&l&&k){return}}return n&&o?void 0:p||o&&r&b9||n&&r&bV?this.preventSrc(s):void 0},preventSrc:function(b){this.manager.session.prevented=!0,b.preventDefault()}};var bJ=1,a5=2,ay=4,al=8,cl=al,b7=16,bS=32;bl.prototype={defaults:{},set:function(b){return cj(this.options,b),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(d){if(a4(d,"recognizeWith",this)){return this}var c=this.simultaneous;return d=bh(d,this),c[d.id]||(c[d.id]=d,d.recognizeWith(this)),this},dropRecognizeWith:function(b){return a4(b,"dropRecognizeWith",this)?this:(b=bh(b,this),delete this.simultaneous[b.id],this)},requireFailure:function(d){if(a4(d,"requireFailure",this)){return this}var c=this.requireFail;return d=bh(d,this),-1===aN(c,d)&&(c.push(d),d.requireFailure(this)),this},dropRequireFailure:function(d){if(a4(d,"dropRequireFailure",this)){return this}d=bh(d,this);var c=aN(this.requireFail,d);return c>-1&&this.requireFail.splice(c,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(b){return !!this.simultaneous[b.id]},emit:function(f){function e(a){h.manager.emit(a,f)}var h=this,g=this.state;al>g&&e(h.options.event+bj(g)),e(h.options.event),f.additionalEvent&&e(f.additionalEvent),g>=al&&e(h.options.event+bj(g))},tryEmit:function(b){return this.canEmit()?this.emit(b):void (this.state=bS)},canEmit:function(){for(var b=0;b<this.requireFail.length;){if(!(this.requireFail[b].state&(bS|bJ))){return !1}b++}return !0},recognize:function(d){var c=cj({},d);return aW(this.options.enable,[this,c])?(this.state&(cl|b7|bS)&&(this.state=bJ),this.state=this.process(c),void (this.state&(a5|ay|al|b7)&&this.tryEmit(c))):(this.reset(),void (this.state=bS))},process:function(b){},getTouchAction:function(){},reset:function(){}},aZ(bZ,bl,{defaults:{pointers:1},attrTest:function(d){var c=this.options.pointers;return 0===c||d.pointers.length===c},process:function(g){var f=this.state,k=g.eventType,j=f&(a5|ay),h=this.attrTest(g);return j&&(k&b5||!h)?f|b7:j||h?k&ck?f|al:f&a5?f|ay:a5:bS}}),aZ(bw,bZ,{defaults:{event:"pan",threshold:10,pointers:1,direction:bi},getTouchAction:function(){var d=this.options.direction,c=[];return d&b9&&c.push(ci),d&bV&&c.push(ai),c},directionTest:function(j){var h=this.options,o=!0,n=j.distance,m=j.direction,l=j.deltaX,k=j.deltaY;return m&h.direction||(h.direction&b9?(m=0===l?bN:0>l?a9:aA,o=l!=this.pX,n=Math.abs(j.deltaX)):(m=0===k?bN:0>k?an:cn,o=k!=this.pY,n=Math.abs(j.deltaY))),j.direction=m,o&&n>h.threshold&&m&h.direction},attrTest:function(b){return bZ.prototype.attrTest.call(this,b)&&(this.state&a5||!(this.state&a5)&&this.directionTest(b))},emit:function(d){this.pX=d.deltaX,this.pY=d.deltaY;var c=b6(d.direction);c&&(d.additionalEvent=this.options.event+c),this._super.emit.call(this,d)}}),aZ(aT,bZ,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[av]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&a5)},emit:function(d){if(1!==d.scale){var c=d.scale<1?"in":"out";d.additionalEvent=this.options.event+c}this._super.emit.call(this,d)}}),aZ(au,bl,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[bB]},process:function(g){var e=this.options,k=g.pointers.length===e.pointers,j=g.distance<e.threshold,h=g.deltaTime>e.time;if(this._input=g,!j||!k||g.eventType&(ck|b5)&&!h){this.reset()}else{if(g.eventType&ax){this.reset(),this._timer=a6(function(){this.state=cl,this.tryEmit()},e.time,this)}else{if(g.eventType&ck){return cl}}}return bS},reset:function(){clearTimeout(this._timer)},emit:function(b){this.state===cl&&(b&&b.eventType&ck?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=cm(),this.manager.emit(this.options.event,this._input)))}}),aZ(ah,bZ,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[av]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&a5)}}),aZ(cg,bZ,{defaults:{event:"swipe",threshold:10,velocity:0.3,direction:b9|bV,pointers:1},getTouchAction:function(){return bw.prototype.getTouchAction.call(this)},attrTest:function(e){var d,f=this.options.direction;return f&(b9|bV)?d=e.overallVelocity:f&b9?d=e.overallVelocityX:f&bV&&(d=e.overallVelocityY),this._super.attrTest.call(this,e)&&f&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&am(d)>this.options.velocity&&e.eventType&ck},emit:function(d){var c=b6(d.offsetDirection);c&&this.manager.emit(this.options.event+c,d),this.manager.emit(this.options.event,d)}}),aZ(b1,bl,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[aX]},process:function(j){var e=this.options,p=j.pointers.length===e.pointers,o=j.distance<e.threshold,n=j.deltaTime<e.time;if(this.reset(),j.eventType&ax&&0===this.count){return this.failTimeout()}if(o&&n&&p){if(j.eventType!=ck){return this.failTimeout()}var m=this.pTime?j.timeStamp-this.pTime<e.interval:!0,l=!this.pCenter||bH(this.pCenter,j.center)<e.posThreshold;this.pTime=j.timeStamp,this.pCenter=j.center,l&&m?this.count+=1:this.count=1,this._input=j;var k=this.count%e.taps;if(0===k){return this.hasRequireFailures()?(this._timer=a6(function(){this.state=cl,this.tryEmit()},e.interval,this),a5):cl}}return bS},failTimeout:function(){return this._timer=a6(function(){this.state=bS},this.options.interval,this),bS},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==cl&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),bE.VERSION="2.0.7",bE.defaults={domEvents:!1,touchAction:b0,enable:!0,inputTarget:null,inputClass:null,preset:[[ah,{enable:!1}],[aT,{enable:!1},["rotate"]],[cg,{direction:b9}],[bw,{direction:b9},["swipe"]],[b1],[b1,{event:"doubletap",taps:2},["tap"]],[au]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var bf=1,aB=2;a0.prototype={set:function(b){return cj(this.options,b),b.touchAction&&this.touchAction.update(),b.inputTarget&&(this.input.destroy(),this.input.target=b.inputTarget,this.input.init()),this},stop:function(b){this.session.stopped=b?aB:bf},recognize:function(h){var g=this.session;if(!g.stopped){this.touchAction.preventDefaults(h);var m,l=this.recognizers,k=g.curRecognizer;(!k||k&&k.state&cl)&&(k=g.curRecognizer=null);for(var j=0;j<l.length;){m=l[j],g.stopped===aB||k&&m!=k&&!m.canRecognizeWith(k)?m.reset():m.recognize(h),!k&&m.state&(a5|ay|al)&&(k=g.curRecognizer=m),j++}}},get:function(e){if(e instanceof bl){return e}for(var d=this.recognizers,f=0;f<d.length;f++){if(d[f].options.event==e){return d[f]}}return null},add:function(d){if(a4(d,"add",this)){return this}var c=this.get(d.options.event);return c&&this.remove(c),this.recognizers.push(d),d.manager=this,this.touchAction.update(),d},remove:function(e){if(a4(e,"remove",this)){return this}if(e=this.get(e)){var d=this.recognizers,f=aN(d,e);-1!==f&&(d.splice(f,1),this.touchAction.update())}return this},on:function(e,d){if(e!==a7&&d!==a7){var f=this.handlers;return a3(aO(e),function(b){f[b]=f[b]||[],f[b].push(d)}),this}},off:function(e,d){if(e!==a7){var f=this.handlers;return a3(aO(e),function(b){d?f[b]&&f[b].splice(aN(f[b],d),1):delete f[b]}),this}},emit:function(f,e){this.options.domEvents&&aj(f,e);var h=this.handlers[f]&&this.handlers[f].slice();if(h&&h.length){e.type=f,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var g=0;g<h.length;){h[g](e),g++}}},destroy:function(){this.element&&aw(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},cj(bE,{INPUT_START:ax,INPUT_MOVE:ak,INPUT_END:ck,INPUT_CANCEL:b5,STATE_POSSIBLE:bJ,STATE_BEGAN:a5,STATE_CHANGED:ay,STATE_ENDED:al,STATE_RECOGNIZED:cl,STATE_CANCELLED:b7,STATE_FAILED:bS,DIRECTION_NONE:bN,DIRECTION_LEFT:a9,DIRECTION_RIGHT:aA,DIRECTION_UP:an,DIRECTION_DOWN:cn,DIRECTION_HORIZONTAL:b9,DIRECTION_VERTICAL:bV,DIRECTION_ALL:bi,Manager:a0,Input:aH,TouchAction:bo,TouchInput:bv,MouseInput:bA,PointerEventInput:bz,TouchMouseInput:bs,SingleTouchInput:by,Recognizer:bl,AttrRecognizer:bZ,Tap:b1,Pan:bw,Swipe:cg,Pinch:aT,Rotate:ah,Press:au,on:aU,off:aS,each:a3,merge:bU,extend:b8,assign:cj,inherit:aZ,bindFn:aY,prefixed:aK});var ao="undefined"!=typeof be?be:"undefined"!=typeof self?self:{};ao.Hammer=bE,"function"==typeof define&&define.amd?define(function(){return bE}):"undefined"!=typeof module&&module.exports?module.exports=bE:be[bc]=bE}(window,document,"Hammer");(function(a){a.isTouch=(function(){var b;if(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch){b=true;a("html").addClass("touch-active")}else{b=false;a("html").addClass("touch-inactive")}return b})();a.registerTouch=function(b){if(a.isTouch){if(b.touch){b.touch()}}else{if(b.notouch){b.notouch()}}}})(bjQuery);
/*!
 * jQzoom Evolution Library v2.2  - Javascript Image magnifier
 * http://www.mind-projects.it
 *
 * Copyright 2011, Engineer Marco Renzi
 * Licensed under the BSD license.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of the organization nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 *
 * Date: 11 April 2011 22:16:00
 */
(function($){var isIE6=($.browser.msie&&$.browser.version<7);var body=$(document.body);var window=$(window);var jqzoompluging_disabled=false;$.fn.jqzoom=function(options){return this.each(function(){var node=this.nodeName.toLowerCase();if(node=="a"){new jqzoom(this,options)}})};jqzoom=function(el,options){var api=null;api=$(el).data("jqzoom");if(api){return api}var obj=this;var settings=$.extend({},$.jqzoom.defaults,options||{});if($.isTouch&&typeof enquire!=="undefined"){enquire.register(media.small,{match:function(){settings.zoomWindowTarget=null;settings.zoomType="innerzoom"},unmatch:function(){}})}obj.el=el;el.rel=$(el).attr("rel");el.zoom_active=false;el.zoom_disabled=false;el.largeimageloading=false;el.largeimageloaded=false;el.scale={};el.timer=null;el.mousepos={};el.mouseDown=false;$(el).css({"outline-style":"none","text-decoration":"none"});var img=$("img:eq(0)",el);el.title=$(el).attr("title");el.imagetitle=img.attr("title");var zoomtitle=($.trim(el.title).length>0)?el.title:el.imagetitle;var smallimage=new Smallimage(img);var lens=new Lens();var stage=new Stage();var largeimage=new Largeimage();var loader=new Loader();$(el).bind("click",function(e){e.preventDefault();return false});var zoomtypes=["standard","drag","innerzoom","reverse","lenszoom"];if($.inArray($.trim(settings.zoomType),zoomtypes)<0){settings.zoomType="standard"}$.extend(obj,{create:function(){if($(".zoomPad",el).length==0){el.zoomPad=$("<div/>").addClass("zoomPad");img.wrap(el.zoomPad)}if($(".zoomPup",el).length==0){lens.append()}if(stage.node.parent().length==0){stage.append()}if($(".zoomPreload",el).length==0){loader.append()}if(settings.preloadImages||settings.zoomType=="drag"||settings.alwaysOn){obj.load()}obj.init()},init:function(){if(settings.zoomType=="drag"){$(".zoomPad",el).mousedown(function(){el.mouseDown=true});$(".zoomPad",el).mouseup(function(){el.mouseDown=false});document.body.ondragstart=function(){return false};$(".zoomPad",el).css({cursor:"default"});$(".zoomPup",el).css({cursor:"move"})}if(settings.zoomType=="innerzoom"){$(".zoomWrapper",el).css({cursor:"crosshair"})}var showZoomWindow=function(){img.attr("title","");$(el).attr("title","");el.zoom_active=true;smallimage.fetchdata();if(el.largeimageloaded){obj.activate(event)}else{obj.load()}};var moveZoomedImage=function(e){if(e.pageX>smallimage.pos.r||e.pageX<smallimage.pos.l||e.pageY<smallimage.pos.t||e.pageY>smallimage.pos.b){lens.setcenter();return false}el.zoom_active=true;if(el.largeimageloaded&&!stage.node.is(":visible")){obj.activate(e)}if(el.largeimageloaded&&(settings.zoomType!="drag"||(settings.zoomType=="drag"&&el.mouseDown))){lens.setposition(e)}};$.registerTouch({touch:function(){$(".zoomPad",el).unbind("mouseleave.jqz mousemove.jqz mouseover.jqz mouseenter.jqz");var hammer=new Hammer(el,{domEvents:true});$(el).on("tap",onTap);$(".zoomWindow").on("swipeleft swiperight touchstart touchend touchup",function(e){e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();return false});var reqAnimationFrame=function(callback){return setTimeout(callback,0)};var transform;var ticking=false;var zoomImageWrapper=$(".zoomWindow .zoomWrapperImage",el);var hammer=new Hammer(zoomImageWrapper.get(0),{domEvents:true});hammer.get("pan").set({threshold:0});zoomImageWrapper.on("panleft panright panup pandown","img",onPan);zoomImageWrapper.on("panend","img",panEnd);function resetElement(){transform={translate:{x:0,y:0},scale:1,angle:0,rx:0,ry:0,rz:0};requestElementUpdate()}var panX=0,panY=0;function updateElementTransform(){var value=["translate3d("+transform.translate.x+"px, "+transform.translate.y+"px, 0)","scale("+transform.scale+", "+transform.scale+")","rotate3d("+transform.rx+","+transform.ry+","+transform.rz+","+transform.angle+"deg)"];value=value.join(" ");zoomImageWrapper.find("img").css({webkitTransform:value,mozTransform:value,transform:value});ticking=false}function requestElementUpdate(){if(!ticking){reqAnimationFrame(updateElementTransform);ticking=true}}$(largeimage.node).css({transition:"all .05s linear"});function onPan(ev){var zoomWindowImage=$(this);var wrapper=$(this).parent();if(zoomWindowImage.length&&!ticking){var deltaX=ev.originalEvent.gesture.deltaX;var deltaY=ev.originalEvent.gesture.deltaY;var absMaxX=0,absMinX=-(zoomWindowImage.width()-wrapper.width());var absMaxY=0,absMinY=-(zoomWindowImage.height()-wrapper.height());var absX=Math.max(absMinX,Math.min(Math.round(deltaX+panX),absMaxX));var absY=Math.max(absMinY,Math.min(Math.round(deltaY+panY),absMaxY));transform.translate={x:absX,y:absY};requestElementUpdate()}}function panEnd(ev){panX=transform.translate.x;panY=transform.translate.y}function onTap(e){if(!stage.node.is(":visible")){showZoomWindow();moveZoomedImage({pageX:e.originalEvent.gesture.pointers[0].pageX,pageY:e.originalEvent.gesture.pointers[0].pageY})}else{obj.deactivate()}}resetElement()},notouch:function(){$(".zoomPad",el).bind("mouseenter mouseover",function(event){showZoomWindow()});$(".zoomPad",el).bind("mouseleave",function(event){obj.deactivate()});$(".zoomPad",el).bind("mousemove",function(e){moveZoomedImage(e)})}});var thumb_preload=new Array();var i=0;var thumblist=new Array();thumblist=$("a").filter(function(){var regex=new RegExp("gallery[\\s]*:[\\s]*'"+$.trim(el.rel)+"'","i");var rel=$(this).attr("rel");if(regex.test(rel)){return this}});if(thumblist.length>0){var first=thumblist.splice(0,1);thumblist.push(first)}thumblist.each(function(){if(settings.preloadImages){var thumb_options=$.extend({},eval("("+$.trim($(this).attr("rel"))+")"));thumb_preload[i]=new Image();thumb_preload[i].src=thumb_options.largeimage;i++}$(this).click(function(e){thumblist.each(function(){$(this).removeClass("zoomThumbActive")});e.preventDefault();obj.swapimage(this);return false})})},load:function(){if(el.largeimageloaded==false&&el.largeimageloading==false){var url=$(el).attr("href");el.largeimageloading=true;largeimage.loadimage(url)}},activate:function(e){clearTimeout(el.timer);lens.show();stage.show()},deactivate:function(e){switch(settings.zoomType){case"drag":break;default:img.attr("title",el.imagetitle);$(el).attr("title",el.title);if(settings.alwaysOn){lens.setcenter()}else{stage.hide();lens.hide()}break}el.zoom_active=false},swapimage:function(link){el.largeimageloading=false;el.largeimageloaded=false;var options=new Object();options=$.extend({},eval("("+$.trim($(link).attr("rel"))+")"));if(options.smallimage&&options.largeimage){var smallimage=options.smallimage;var largeimage=options.largeimage;$(link).addClass("zoomThumbActive");$(el).attr("href",largeimage);img.attr("src",smallimage);lens.hide();stage.hide();obj.load()}else{alert("ERROR :: Missing parameter for largeimage or smallimage.");throw"ERROR :: Missing parameter for largeimage or smallimage."}return false}});if(img[0].complete){smallimage.fetchdata();if($(".zoomPad",el).length==0){obj.create()}}function Smallimage(image){var $obj=this;this.node=image[0];this.findborder=function(){var bordertop=0;bordertop=image.css("border-top-width");btop="";var borderleft=0;borderleft=image.css("border-left-width");bleft="";if(bordertop){for(i=0;i<3;i++){var x=[];x=bordertop.substr(i,1);if(isNaN(x)==false){btop=btop+""+bordertop.substr(i,1)}else{break}}}if(borderleft){for(i=0;i<3;i++){if(!isNaN(borderleft.substr(i,1))){bleft=bleft+borderleft.substr(i,1)}else{break}}}$obj.btop=(btop.length>0)?eval(btop):0;$obj.bleft=(bleft.length>0)?eval(bleft):0};this.fetchdata=function(){$obj.findborder();$obj.w=image.width();$obj.h=image.height();$obj.ow=image.outerWidth();$obj.oh=image.outerHeight();$obj.pos=image.offset();$obj.pos.l=image.offset().left+$obj.bleft;$obj.pos.t=image.offset().top+$obj.btop;$obj.pos.r=$obj.w+$obj.pos.l;$obj.pos.b=$obj.h+$obj.pos.t;$obj.rightlimit=image.offset().left+$obj.ow;$obj.bottomlimit=image.offset().top+$obj.oh};this.node.onerror=function(){alert("Problems while loading image.");throw"Problems while loading image."};this.node.onload=function(){$obj.fetchdata();if($(".zoomPad",el).length==0){obj.create()}};return $obj}function Loader(){var $obj=this;this.append=function(){this.node=$("<div/>").addClass("zoomPreload").css("visibility","hidden").html(settings.preloadText);$(".zoomPad",el).append(this.node)};this.show=function(){this.node.top=(smallimage.oh-this.node.height())/2;this.node.left=(smallimage.ow-this.node.width())/2;this.node.css({top:this.node.top,left:this.node.left,position:"absolute",visibility:"visible"})};this.hide=function(){this.node.css("visibility","hidden")};return this}function Lens(){var $obj=this;this.node=$("<div/>").addClass("zoomPup");this.append=function(){$(".zoomPad",el).append($(this.node).hide());if(settings.zoomType=="reverse"){this.image=new Image();this.image.src=smallimage.node.src;$(this.node).empty().append(this.image)}};this.setdimensions=function(){this.node.w=(parseInt((settings.zoomWidth)/el.scale.x)>smallimage.w)?smallimage.w:parseInt((settings.zoomWidth)/el.scale.x);this.node.h=(parseInt((settings.zoomHeight)/el.scale.y)>smallimage.h)?smallimage.h:parseInt((settings.zoomHeight)/el.scale.y);this.node.top=(smallimage.oh-this.node.h-2)/2;this.node.left=(smallimage.ow-this.node.w-2)/2;this.node.css({top:0,left:0,width:this.node.w+"px",height:this.node.h+"px",position:"absolute",display:"none",borderWidth:1+"px"});if(settings.zoomType=="reverse"){this.image.src=smallimage.node.src;$(this.node).css({opacity:1});$(this.image).css({position:"absolute",left:-(this.node.left+1-smallimage.bleft)+"px",top:-(this.node.top+1-smallimage.btop)+"px"})}};this.setcenter=function(){this.node.top=(smallimage.oh-this.node.h-2)/2;this.node.left=(smallimage.ow-this.node.w-2)/2;this.node.css({top:this.node.top,left:this.node.left});if(settings.zoomType=="reverse"){$(this.image).css({position:"absolute",left:-(this.node.left+1-smallimage.bleft)+"px",top:-(this.node.top+1-smallimage.btop)+"px"})}largeimage.setposition()};this.setposition=function(e){el.mousepos.x=e.pageX;el.mousepos.y=e.pageY;var lensleft=0;var lenstop=0;function overleft(lens){return el.mousepos.x-(lens.w)/2<smallimage.pos.l}function overright(lens){return el.mousepos.x+(lens.w)/2>smallimage.pos.r}function overtop(lens){return el.mousepos.y-(lens.h)/2<smallimage.pos.t}function overbottom(lens){return el.mousepos.y+(lens.h)/2>smallimage.pos.b}lensleft=el.mousepos.x+smallimage.bleft-smallimage.pos.l-(this.node.w+2)/2;lenstop=el.mousepos.y+smallimage.btop-smallimage.pos.t-(this.node.h+2)/2;if(overleft(this.node)){lensleft=smallimage.bleft-1}else{if(overright(this.node)){lensleft=smallimage.w+smallimage.bleft-this.node.w-1}}if(overtop(this.node)){lenstop=smallimage.btop-1}else{if(overbottom(this.node)){lenstop=smallimage.h+smallimage.btop-this.node.h-1}}this.node.left=lensleft;this.node.top=lenstop;this.node.css({left:lensleft+"px",top:lenstop+"px"});if(settings.zoomType=="reverse"){$(this.image).css({position:"absolute",left:-(this.node.left+1-smallimage.bleft)+"px",top:-(this.node.top+1-smallimage.btop)+"px"})}largeimage.setposition();if(settings.zoomType=="lenszoom"){stage.setposition()}};this.hide=function(){img.css({opacity:1});this.node.hide()};this.show=function(){if(settings.zoomType!="innerzoom"&&(settings.lens||settings.zoomType=="drag")){this.node.show()}if(settings.zoomType=="reverse"){img.css({opacity:settings.imageOpacity})}};this.getoffset=function(){var o={};o.left=$obj.node.left;o.top=$obj.node.top;return o};return this}function Stage(){var $obj=this;this.node=$("<div class='zoomWindow'><div class='zoomWrapper'><div class='zoomWrapperTitle'></div><div class='zoomWrapperImage'></div></div></div>");this.ieframe=$('<iframe class="zoomIframe" src="javascript:\'\';" marginwidth="0" marginheight="0" align="bottom" scrolling="no" frameborder="0" ></iframe>');this.setposition=function(){this.node.leftpos=0;this.node.toppos=0;if(settings.zoomType!="innerzoom"){switch(settings.position){case"left":this.node.leftpos=(smallimage.pos.l-smallimage.bleft-Math.abs(settings.xOffset)-settings.zoomWidth>0)?(0-settings.zoomWidth-Math.abs(settings.xOffset)):(smallimage.ow+Math.abs(settings.xOffset));this.node.toppos=Math.abs(settings.yOffset);break;case"top":this.node.leftpos=Math.abs(settings.xOffset);this.node.toppos=(smallimage.pos.t-smallimage.btop-Math.abs(settings.yOffset)-settings.zoomHeight>0)?(0-settings.zoomHeight-Math.abs(settings.yOffset)):(smallimage.oh+Math.abs(settings.yOffset));break;case"bottom":this.node.leftpos=Math.abs(settings.xOffset);this.node.toppos=(smallimage.pos.t-smallimage.btop+smallimage.oh+Math.abs(settings.yOffset)+settings.zoomHeight<screen.height)?(smallimage.oh+Math.abs(settings.yOffset)):(0-settings.zoomHeight-Math.abs(settings.yOffset));break;default:this.node.leftpos=(smallimage.rightlimit+Math.abs(settings.xOffset)+settings.zoomWidth<screen.width)?(smallimage.ow+Math.abs(settings.xOffset)):(0-settings.zoomWidth-Math.abs(settings.xOffset));this.node.toppos=Math.abs(settings.yOffset);break}}if(settings.zoomType=="lenszoom"){this.node.leftpos=(lens.getoffset().left+(lens.node.w-settings.zoomWidth)/2+1);this.node.toppos=(lens.getoffset().top+(lens.node.h-settings.zoomHeight)/2+1)}this.node.css({left:this.node.leftpos+"px",top:this.node.toppos+"px"});return this};this.append=function(){if(!settings.zoomWindowTarget){settings.zoomWindowTarget=$(".zoomPad",el)}settings.zoomWindowTarget.append(this.node);this.node.css({position:"absolute",display:"none",zIndex:5001});if(settings.zoomType=="lenszoom"){this.node.css({"pointer-events":"none"})}if(settings.zoomType=="innerzoom"){this.node.css({cursor:"default"});var thickness=(smallimage.bleft==0)?1:smallimage.bleft;$(".zoomWrapper",this.node).css({width:smallimage.w+"px",borderWidth:thickness+"px"});$(".zoomWrapperImage",this.node).css({width:"100%",height:smallimage.h+"px"});$(".zoomWrapperTitle",this.node).css({width:"100%",position:"absolute"})}else{$(".zoomWrapper",this.node).css({width:Math.round(settings.zoomWidth)+"px"});$(".zoomWrapperImage",this.node).css({width:"100%",height:Math.round(settings.zoomHeight)+"px"});$(".zoomWrapperTitle",this.node).css({width:"100%",position:"absolute"})}$(".zoomWrapperTitle",this.node).hide();if(settings.title&&zoomtitle.length>0){$(".zoomWrapperTitle",this.node).html(zoomtitle).show()}$obj.setposition()};this.hide=function(){switch(settings.hideEffect){case"fadeout":this.node.fadeOut(settings.fadeoutSpeed,function(){});break;default:this.node.hide();break}this.ieframe.hide()};this.show=function(){switch(settings.showEffect){case"fadein":this.node.fadeIn();this.node.fadeIn(settings.fadeinSpeed,function(){});break;default:this.node.show();break}if(isIE6&&settings.zoomType!="innerzoom"){this.ieframe.width=this.node.width();this.ieframe.height=this.node.height();this.ieframe.left=this.node.leftpos;this.ieframe.top=this.node.toppos;this.ieframe.css({display:"block",position:"absolute",left:this.ieframe.left,top:this.ieframe.top,zIndex:99,width:this.ieframe.width+"px",height:this.ieframe.height+"px"});$(".zoomPad",el).append(this.ieframe);this.ieframe.show()}}}function Largeimage(){var $obj=this;this.node=new Image();this.loadimage=function(url){loader.show();this.url=url;this.node.style.position="absolute";this.node.style.border="0px";this.node.style.display="none";this.node.style.left="-5000px";this.node.style.top="0px";document.body.appendChild(this.node);this.node.src=url};this.fetchdata=function(){var image=$(this.node);var scale={};this.node.style.display="block";$obj.w=image.width();$obj.h=image.height();$obj.pos=image.offset();$obj.pos.l=image.offset().left;$obj.pos.t=image.offset().top;$obj.pos.r=$obj.w+$obj.pos.l;$obj.pos.b=$obj.h+$obj.pos.t;scale.x=($obj.w/smallimage.w);scale.y=($obj.h/smallimage.h);el.scale=scale;document.body.removeChild(this.node);$(".zoomWrapperImage",stage.node).empty().append(this.node);lens.setdimensions()};this.node.onerror=function(){alert("Problems while loading the big image.");throw"Problems while loading the big image."};this.node.onload=function(){$obj.fetchdata();loader.hide();el.largeimageloading=false;el.largeimageloaded=true;if(settings.zoomType=="drag"||settings.alwaysOn||$.isTouch){lens.show();stage.show();lens.setcenter()}};this.setposition=function(){var left=-el.scale.x*(lens.getoffset().left-smallimage.bleft+1);var top=-el.scale.y*(lens.getoffset().top-smallimage.btop+1);$(this.node).css({left:left+"px",top:top+"px"})};return this}$(el).data("jqzoom",obj)};$.jqzoom={defaults:{zoomType:"standard",zoomWidth:300,zoomHeight:300,xOffset:10,yOffset:0,position:"right",preloadImages:true,preloadText:"Loading zoom",title:true,lens:true,imageOpacity:0.4,alwaysOn:false,showEffect:"show",hideEffect:"hide",fadeinSpeed:"slow",fadeoutSpeed:"2000",zoomWindowTarget:null},disable:function(el){var api=$(el).data("jqzoom");api.disable();return false},enable:function(el){var api=$(el).data("jqzoom");api.enable();return false},disableAll:function(el){jqzoompluging_disabled=true},enableAll:function(el){jqzoompluging_disabled=false}}})(jQuery);